
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0 plus SVG 1.1//EN" "http://www.w3.org/2002/04/xhtml-math-svg/xhtml-math-svg-flat.dtd" >
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>
      partial function in nLab
  </title>

  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta name="robots" content="index,follow" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <link href="/stylesheets/instiki.css?1660229990" media="all" rel="stylesheet" type="text/css" />
  <link href="/stylesheets/mathematics.css?1660229990" media="all" rel="stylesheet" type="text/css" />
  <link href="/stylesheets/syntax.css?1660229990" media="all" rel="stylesheet" type="text/css" />
  <link href="/stylesheets/nlab.css?1660229990" media="all" rel="stylesheet" type="text/css" />
  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/dreampulse/computer-modern-web-font@master/fonts.css"/>

  <style type="text/css">
    h1#pageName, div.info, .newWikiWord a, a.existingWikiWord, .newWikiWord a:hover, [actiontype="toggle"]:hover, #TextileHelp h3 {
      color: #226622;
    }
    a:visited.existingWikiWord {
      color: #164416;
    }
    
    
  </style>
  
  <style type="text/css"><!--/*--><![CDATA[/*><!--*/
    .toc ul {margin: 0; padding: 0;}
.toc ul ul {margin: 0; padding: 0 0 0 10px;}
.toc li > p {margin: 0}
.toc ul li {list-style-type: none; position: relative;}
.toc div {border-top:1px dotted #ccc;}
.rightHandSide h2 {font-size: 1.5em;color:#008B26}
table.plaintable {
    border-collapse:collapse;
    margin-left:30px;
    border:0;
}
.plaintable td {border:1px solid #000; padding: 3px;}
.plaintable th {padding: 3px;}
.plaintable caption {
    font-weight: bold;
    font-size:1.1em;
    text-align:center;
    margin-left:30px;
}
    
   
/* Query boxes for questioning and answering mechanism */
div.query{
background: #f6fff3;
border: solid #ce9;
border-width: 2px 1px;
padding: 0 1em;
margin: 0 1em;
max-height: 20em;
overflow: auto;
}

/* Standout boxes for putting important text */
div.standout{
background: #fff1f1;
border: solid black;
border-width: 2px 1px;
padding: 0 1em;
margin: 0 1em;
overflow: auto;
}

/* Icon for links to n-category arXiv documents 
 (commented out for now i.e. disabled)
a[href*="http://arxiv.org/"] {
  background-image: url(../files/arXiv_icon.gif);
  background-repeat: no-repeat;
  background-position: right bottom;
     padding-right: 22px;
  } */
    
/* Icon for links to n-category cafe posts (disabled) 
a[href*="http://golem.ph.utexas.edu/category"] {
  background-image: url(../files/n-cafe_5.gif);
  background-repeat: no-repeat;
  background-position: right bottom;
     padding-right: 25px;
  } */

/* Icon for links to pdf files (disabled)
a[href$=".pdf"] {
  background-image: url(../files/pdficon_small.gif);
  background-repeat: no-repeat;
  background-position: right bottom;
     padding-right: 25px;
  } */

/* Icon for links to pages, etc. -inside- pdf files (disabled)
a[href*=".pdf#"] {
  background-image: url(../files/pdf_entry.gif);
  background-repeat: no-repeat;
  background-position: right bottom;
     padding-right: 25px;
  } */

a.existingWikiWord {
color: #226622;
}

a.existingWikiWord:visited {
color: #226622;
}


a.existingWikiWord[title] {
border: 0px;
color: #aa0505;
text-decoration: none;
}
    
a.existingWikiWord[title]:visited {
border: 0px;
color: #551111;
text-decoration: none;
}

a[href^="http://"] {
border: 0px;
color: #003399;
}

a[href^="http://"]:visited {
border: 0px;
color: #330066;
}

a[href^="https://"] {
border: 0px;
color: #003399;
}

a[href^="https://"]:visited {
border: 0px;
color: #330066;
}

div.dropDown .hide {
display: none;
}

div.dropDown:hover .hide {
display:block;
}

div.clickDown .hide {
display: none;
}

div.clickDown:focus {
outline:none;
}

div.clickDown:focus .hide, div.clickDown:hover .hide {
display: block;
}

div.clickDown .clickToReveal, div.clickDown:focus .clickToHide {
display:block;
}

div.clickDown:focus .clickToReveal, div.clickDown .clickToHide {
display:none;
}

div.clickDown .clickToReveal:after {
content: "A(Hover to reveal, click to "hold")";
font-size: 60%;
}

div.clickDown .clickToHide:after {
content: "A(Click to hide)";
font-size: 60%;
}
div.clickDown .clickToHide, div.clickDown .clickToReveal {
white-space: pre-wrap;
}

.un_theorem, .num_theorem, .un_lemma, .num_lemma, .un_prop, .num_prop, .un_cor, .num_cor, .un_defn, .num_defn, .un_example, .num_example, .un_note, .num_note, .un_remark, .num_remark {
margin-left: 1em;
}

span.theorem_label {
margin-left: -1em;
}
.proof span.theorem_label {
margin-left: 0em;
}
:target {
    background-color: #BBBBBB;
    border-radius: 5pt;
}

  /*]]>*/--></style>
  <script src="/javascripts/prototype.js?1660229990" type="text/javascript"></script>
<script src="/javascripts/effects.js?1660229990" type="text/javascript"></script>
<script src="/javascripts/dragdrop.js?1660229990" type="text/javascript"></script>
<script src="/javascripts/controls.js?1660229990" type="text/javascript"></script>
<script src="/javascripts/application.js?1660229990" type="text/javascript"></script>
  <script src="/javascripts/page_helper.js?1660229990" type="text/javascript"></script>
  <script src="/javascripts/thm_numbering.js?1660229990" type="text/javascript"></script>
  
  <script type="text/x-mathjax-config">
  <!--//--><![CDATA[//><!--
    MathJax.Ajax.config.path["Contrib"] = "/MathJax";
    MathJax.Hub.Config({
      MathML: { useMathMLspacing: true },
      "HTML-CSS": { scale: 90,
                    extensions: ["handle-floats.js"]
      }
    });
    MathJax.Hub.Queue( function () {
       var fos = document.getElementsByTagName('foreignObject');
       for (var i = 0; i < fos.length; i++) {
         MathJax.Hub.Typeset(fos[i]);
       }
    });
  //--><!]]>
  </script>

  <script type="text/javascript">
    <!--//--><![CDATA[//><!--
    window.addEventListener("DOMContentLoaded", function () {
      var div = document.createElement('div');
      var math = document.createElementNS('http://www.w3.org/1998/Math/MathML', 'math');
      document.body.appendChild(div);
      div.appendChild(math);
    // Test for MathML support comparable to WebKit version https://trac.webkit.org/changeset/203640 or higher.
      div.setAttribute('style', 'font-style: italic');
      var mathml_unsupported = !(window.getComputedStyle(div.firstChild).getPropertyValue('font-style') === 'normal');
      div.parentNode.removeChild(div);
      if (mathml_unsupported) {
        // MathML does not seem to be supported...
        var s = document.createElement('script');
        s.src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=MML_HTMLorMML-full";
        document.querySelector('head').appendChild(s);
      } else {
        document.head.insertAdjacentHTML("beforeend", '<style>svg[viewBox] {max-width: 100%}</style>');
      }
    });
    //--><!]]>
  </script>

  	<link href="https://ncatlab.org/nlab/atom_with_headlines" rel="alternate" title="Atom with headlines" type="application/atom+xml" />
  	<link href="https://ncatlab.org/nlab/atom_with_content" rel="alternate" title="Atom with full content" type="application/atom+xml" />
  <script type="text/javascript">
  document.observe("dom:loaded", function() {
    generateThmNumbers();
  });
  </script>
</head>

<body>

<div id="Container">
<div id="Content">
  <h1 id="pageName">
    <span style="float: left; margin: 0.5em 0.25em -0.25em 0">
      <svg xmlns="http://www.w3.org/2000/svg" width="1.872em" height="1.8em" viewBox="0 0 190 181">
        <path fill="#226622" d="M72.8 145c-1.6 17.3-15.7 10-23.6 20.2-5.6 7.3 4.8 15 11.4 15 11.5-.2 19-13.4 26.4-20.3 3.3-3 8.2-4 11.2-7.2a14 14 0 0 0 2.9-11.1c-1.4-9.6-12.4-18.6-16.9-27.2-5-9.6-10.7-27.4-24.1-27.7-17.4-.3-.4 26 4.7 30.7 2.4 2.3 5.4 4.1 7.3 6.9 1.6 2.3 2.1 5.8-1 7.2-5.9 2.6-12.4-6.3-15.5-10-8.8-10.6-15.5-23-26.2-31.8-5.2-4.3-11.8-8-18-3.7-7.3 4.9-4.2 12.9.2 18.5a81 81 0 0 0 30.7 23c3.3 1.5 12.8 5.6 10 10.7-2.5 5.2-11.7 3-15.6 1.1-8.4-3.8-24.3-21.3-34.4-13.7-3.5 2.6-2.3 7.6-1.2 11.1 2.8 9 12.2 17.2 20.9 20.5 17.3 6.7 34.3-8 50.8-12.1z"/>
        <path fill="#a41e32" d="M145.9 121.3c-.2-7.5 0-19.6-4.5-26-5.4-7.5-12.9-1-14.1 5.8-1.4 7.8 2.7 14.1 4.8 21.3 3.4 12 5.8 29-.8 40.1-3.6-6.7-5.2-13-7-20.4-2.1-8.2-12.8-13.2-15.1-1.9-2 9.7 9 21.2 12 30.1 1.2 4 2 8.8 6.4 10.3 6.9 2.3 13.3-4.7 17.7-8.8 12.2-11.5 36.6-20.7 43.4-36.4 6.7-15.7-13.7-14-21.3-7.2-9.1 8-11.9 20.5-23.6 25.1 7.5-23.7 31.8-37.6 38.4-61.4 2-7.3-.8-29.6-13-19.8-14.5 11.6-6.6 37.6-23.3 49.2z"/>
        <path fill="#193c78" d="M86.3 47.5c0-13-10.2-27.6-5.8-40.4 2.8-8.4 14.1-10.1 17-1 3.8 11.6-.3 26.3-1.8 38 11.7-.7 10.5-16 14.8-24.3 2.1-4.2 5.7-9.1 11-6.7 6 2.7 7.4 9.2 6.6 15.1-2.2 14-12.2 18.8-22.4 27-3.4 2.7-8 6.6-5.9 11.6 2 4.4 7 4.5 10.7 2.8 7.4-3.3 13.4-16.5 21.7-16 14.6.7 12 21.9.9 26.2-5 1.9-10.2 2.3-15.2 3.9-5.8 1.8-9.4 8.7-15.7 8.9-6.1.1-9-6.9-14.3-9-14.4-6-33.3-2-44.7-14.7-3.7-4.2-9.6-12-4.9-17.4 9.3-10.7 28 7.2 35.7 12 2 1.1 11 6.9 11.4 1.1.4-5.2-10-8.2-13.5-10-11.1-5.2-30-15.3-35-27.3-2.5-6 2.8-13.8 9.4-13.6 6.9.2 13.4 7 17.5 12C70.9 34 75 43.8 86.3 47.4z"/>
      </svg>
    </span>
      <span class="webName">nLab</span>
      partial function
  </h1>



<div class="navigation">
    <span class="skipNav"><a href='#navEnd'>Skip the Navigation Links</a> | </span>
    <span style="display:inline-block; width: 0.3em;"></span>
    <a href="/nlab/show/HomePage" accesskey="H" title="Home page">Home Page</a> |
    <a href="/nlab/all_pages" accesskey="A" title="List of all pages">All Pages</a> |
    <a href="/nlab/latest_revisions" accesskey="U" title="Latest edits and page creations">Latest Revisions</a> |
    <a href="https://nforum.ncatlab.org/discussion/5678/#Item_32" title="Discuss this page in its dedicated thread on the nForum" style="color: black">Discuss this page</a> |
<form accept-charset="utf-8" action="/nlab/search" id="navigationSearchForm" method="get">      <fieldset class="search"><input type="text" id="searchField" name="query" value="Search"
             style="display:inline-block; float: left;"
             onfocus="this.value == 'Search' ? this.value = '' : true"
             onblur="this.value == '' ? this.value = 'Search' : true" /></fieldset>
</form>  <span id='navEnd'></span>
</div>






<div id="revision">
    <html xmlns="http://www.w3.org/1999/xhtml" xmlns:svg="http://www.w3.org/2000/svg" xml:lang="en" lang="en">
<head><meta http-equiv="Content-type" content="application/xhtml+xml;charset=utf-8" /><title>Partial functions</title></head>
<body>
<h1 id="partial_functions">Partial functions</h1>
<div class='maruku_toc'>
<ul>
<li><a href='#idea'>Idea</a></li>
<li><a href='#definitions'>Definitions</a></li>
<ul>
<li><a href='#in_type_theory'>In type theory</a></li>
<ul>
<li><a href='#as_functions'>As functions</a></li>
<li><a href='#as_partial_anafunctions'>As partial anafunctions</a></li>
<li><a href='#examples'> Examples</a></li>
</ul>
<li><a href='#in_category_theory'>In category theory</a></li>
<ul>
<li><a href='#DefinitionInSets'>In the category of sets</a></li>
<li><a href='#DefinitionGeneralAbstract'>General abstract</a></li>
<ul>
<li><a href='#in_terms_of_spans'>In terms of spans</a></li>
<li><a href='#in_terms_of_the_maybe_monad'>In terms of the maybe monad</a></li>
</ul>
</ul>
</ul>
<li><a href='#examples_2'>Examples</a></li>
<li><a href='#the_category_of_sets_and_partial_functions'>The category of sets and partial functions</a></li>
<li><a href='#algebras_of_partial_functions'>Algebras of partial functions</a></li>
<li><a href='#related_concepts'>Related concepts</a></li>
<li><a href='#References'>References</a></li>
</ul>
</div>

<h2 id="idea">Idea</h2>

<p>A <em>partial function</em> <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>f</mi><mo>:</mo><mi>A</mi><mo>→</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">f: A \to B</annotation></semantics></math> is like a <a class="existingWikiWord" href="/nlab/show/function">function</a> from <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math> to <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math> except that <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(x)</annotation></semantics></math> may not be defined for every element <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math> of <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math>. (Compare a <a class="existingWikiWord" href="/nlab/show/multi-valued+function">multi-valued function</a>, where <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(x)</annotation></semantics></math> may have several possible values.)</p>

<p>In some fields (including secondary-school mathematics even today), functions are often considered to be partial by default, requiring one to specify a <em>total</em> function otherwise. As category-theoretic and type-theoretic formalisation spreads, this is difficult to treat as the basic concept, and the most modern idea is that a function must be total. If you want partial functions, then you can get them in terms of total functions as below.</p>

<h2 id="definitions">Definitions</h2>

<h3 id="in_type_theory">In type theory</h3>

<h4 id="as_functions">As functions</h4>

<p>In <a class="existingWikiWord" href="/nlab/show/dependent+type+theory">dependent type theory</a>, given <a class="existingWikiWord" href="/nlab/show/h-sets">h-sets</a> <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math> and <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math>, a <strong>partial function</strong> <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>f</mi></mrow><annotation encoding="application/x-tex">f</annotation></semantics></math> from <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math> to <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math> is an <a class="existingWikiWord" href="/nlab/show/h-proposition">h-proposition</a>-valued type family <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><msub><mi>P</mi> <mi>f</mi></msub></mrow><annotation encoding="application/x-tex">P_f</annotation></semantics></math> on <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math> which states whether <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>f</mi></mrow><annotation encoding="application/x-tex">f</annotation></semantics></math> is defined for element <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>a</mi><mo>:</mo><mi>A</mi></mrow><annotation encoding="application/x-tex">a:A</annotation></semantics></math>, and a section</p>
<div class="maruku-equation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block" class="maruku-mathml"><semantics><mrow><mi>x</mi><mo>:</mo><mi>A</mi><mo>,</mo><mi>p</mi><mo>:</mo><msub><mi>P</mi> <mi>f</mi></msub><mo>⊢</mo><mi>f</mi><mo>:</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">x:A, p:P_f \vdash f:B</annotation></semantics></math></div>
<p>If the dependent type theory has <a class="existingWikiWord" href="/nlab/show/function+types">function types</a> and <a class="existingWikiWord" href="/nlab/show/dependent+sum+types">dependent sum types</a>, then one could define the partial function directly as:</p>
<div class="maruku-equation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block" class="maruku-mathml"><semantics><mrow><mi>f</mi><mo>:</mo><mrow><mo>(</mo><munder><mo lspace="thinmathspace" rspace="thinmathspace">∑</mo> <mrow><mi>a</mi><mo>:</mo><mi>A</mi></mrow></munder><msub><mi>P</mi> <mi>f</mi></msub><mo stretchy="false">(</mo><mi>a</mi><mo stretchy="false">)</mo><mo>)</mo></mrow><mo>→</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">f:\left(\sum_{a:A} P_f(a)\right) \to B</annotation></semantics></math></div>
<h4 id="as_partial_anafunctions">As partial anafunctions</h4>

<p>In <a class="existingWikiWord" href="/nlab/show/dependent+type+theory">dependent type theory</a>, given types <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math> and <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math>, a <strong>partial anafunction</strong> is a <a class="existingWikiWord" href="/nlab/show/type+family">type family</a> <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>x</mi><mo lspace="verythinmathspace">:</mo><mi>A</mi><mo>,</mo><mi>y</mi><mo lspace="verythinmathspace">:</mo><mi>B</mi><mo>⊢</mo><mi>R</mi><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy="false">)</mo><mspace width="thickmathspace"></mspace><mi mathvariant="normal">type</mi></mrow><annotation encoding="application/x-tex">x\colon A, y \colon B \vdash R(x, y) \; \mathrm{type}</annotation></semantics></math> which comes with a family of witnesses</p>
<div class="maruku-equation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block" class="maruku-mathml"><semantics><mrow><mi>x</mi><mo lspace="verythinmathspace">:</mo><mi>A</mi><mo>⊢</mo><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo lspace="verythinmathspace">:</mo><mi mathvariant="normal">isProp</mi><mrow><mo>(</mo><munder><mo lspace="thinmathspace" rspace="thinmathspace">∑</mo> <mrow><mi>y</mi><mo>:</mo><mi>B</mi></mrow></munder><mi>R</mi><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>)</mo></mrow></mrow><annotation encoding="application/x-tex">x \colon A \vdash p(x) \colon \mathrm{isProp}\left(\sum_{y:B} R(x, y) \right)</annotation></semantics></math></div>
<p>that for each <a class="existingWikiWord" href="/nlab/show/term">element</a> <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>x</mi><mo lspace="verythinmathspace">:</mo><mi>A</mi></mrow><annotation encoding="application/x-tex">x\colon A</annotation></semantics></math>, the <a class="existingWikiWord" href="/nlab/show/dependent+sum+type">dependent sum type</a> <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><msub><mo lspace="thinmathspace" rspace="thinmathspace">∑</mo> <mrow><mi>y</mi><mo lspace="verythinmathspace">:</mo><mi>B</mi></mrow></msub><mi>R</mi><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\sum_{y \colon B} R(x, y)</annotation></semantics></math> is a <a class="existingWikiWord" href="/nlab/show/mere+proposition">mere proposition</a>.</p>

<p>Historically, partial anafunctions are called <em><a class="existingWikiWord" href="/nlab/show/functional+relations">functional relations</a></em>, but nowadays in type theory one tends to use the term <em><a class="existingWikiWord" href="/nlab/show/relation">relation</a></em> only for those <a class="existingWikiWord" href="/nlab/show/type+families">type families</a> which are valued in <a class="existingWikiWord" href="/nlab/show/mere+propositions">mere propositions</a>.</p>

<p>For any partial anafunction, there is a partial function</p>
<div class="maruku-equation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block" class="maruku-mathml"><semantics><mrow><mi>x</mi><mo>:</mo><mi>A</mi><mo>,</mo><mi>p</mi><mo>:</mo><mi mathvariant="normal">isContr</mi><mrow><mo>(</mo><munder><mo lspace="thinmathspace" rspace="thinmathspace">∑</mo> <mrow><mi>y</mi><mo>:</mo><mi>B</mi></mrow></munder><mi>R</mi><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>)</mo></mrow><mo>⊢</mo><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>p</mi><mo stretchy="false">)</mo><mo>:</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">x:A, p:\mathrm{isContr}\left(\sum_{y:B} R(x, y) \right) \vdash f(x, p):B</annotation></semantics></math></div>
<p>which could be written as the function</p>
<div class="maruku-equation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block" class="maruku-mathml"><semantics><mrow><mi>f</mi><mo>:</mo><munder><mo lspace="thinmathspace" rspace="thinmathspace">∑</mo> <mrow><mi>x</mi><mo>:</mo><mi>A</mi></mrow></munder><mi mathvariant="normal">isContr</mi><mrow><mo>(</mo><munder><mo lspace="thinmathspace" rspace="thinmathspace">∑</mo> <mrow><mi>y</mi><mo>:</mo><mi>B</mi></mrow></munder><mi>R</mi><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>)</mo></mrow><mo>→</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">f:\sum_{x:A} \mathrm{isContr}\left(\sum_{y:B} R(x, y) \right) \to B</annotation></semantics></math></div>
<p>since <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><msub><mo lspace="thinmathspace" rspace="thinmathspace">∑</mo> <mrow><mi>y</mi><mo>:</mo><mi>B</mi></mrow></msub><mi>R</mi><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\sum_{y:B} R(x, y)</annotation></semantics></math> is already a proposition, one could simply use</p>
<div class="maruku-equation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block" class="maruku-mathml"><semantics><mrow><mi>x</mi><mo>:</mo><mi>A</mi><mo>,</mo><mi>p</mi><mo>:</mo><munder><mo lspace="thinmathspace" rspace="thinmathspace">∑</mo> <mrow><mi>y</mi><mo>:</mo><mi>B</mi></mrow></munder><mi>R</mi><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>⊢</mo><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>p</mi><mo stretchy="false">)</mo><mo>:</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">x:A, p:\sum_{y:B} R(x, y) \vdash f(x, p):B</annotation></semantics></math></div>
<p>instead, and by the rules of dependent sum types, it becomes</p>
<div class="maruku-equation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block" class="maruku-mathml"><semantics><mrow><mi>x</mi><mo>:</mo><mi>A</mi><mo>,</mo><mi>y</mi><mo>:</mo><mi>B</mi><mo>,</mo><mi>p</mi><mo>:</mo><mi>R</mi><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>⊢</mo><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo>,</mo><mi>p</mi><mo stretchy="false">)</mo><mo>:</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">x:A, y:B, p:R(x, y) \vdash f(x, y, p):B</annotation></semantics></math></div>
<p>on the other side, the function can be written as</p>
<div class="maruku-equation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block" class="maruku-mathml"><semantics><mrow><mi>f</mi><mo>:</mo><mrow><mo>(</mo><munder><mo lspace="thinmathspace" rspace="thinmathspace">∑</mo> <mrow><mi>x</mi><mo>:</mo><mi>A</mi></mrow></munder><munder><mo lspace="thinmathspace" rspace="thinmathspace">∑</mo> <mrow><mi>y</mi><mo>:</mo><mi>B</mi></mrow></munder><mi>R</mi><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>)</mo></mrow><mo>→</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">f:\left(\sum_{x:A} \sum_{y:B} R(x, y) \right) \to B</annotation></semantics></math></div>
<h4 id="examples"> Examples</h4>

<p>There are multiple examples of partial functions in mathematics.</p>

<p>The <a class="existingWikiWord" href="/nlab/show/reciprocal+function">reciprocal function</a> on the <a class="existingWikiWord" href="/nlab/show/real+numbers">real numbers</a> is only defined on the real numbers apart from zero, and so is given by the following rules:</p>
<div class="maruku-equation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block" class="maruku-mathml"><semantics><mrow><mfrac><mrow><mi>Γ</mi><mo>⊢</mo><mi>ℝ</mi><mspace width="thickmathspace"></mspace><mi mathvariant="normal">type</mi></mrow><mrow><mi>Γ</mi><mo>,</mo><mi>x</mi><mo>:</mo><mi>ℝ</mi><mo>,</mo><mi>p</mi><mo>:</mo><mo stretchy="false">|</mo><mi>x</mi><mo stretchy="false">|</mo><mo>&gt;</mo><mn>0</mn><mo>⊢</mo><msup><mrow><mo stretchy="false">(</mo><mo lspace="verythinmathspace" rspace="0em">−</mo><mo stretchy="false">)</mo></mrow> <mrow><mo lspace="verythinmathspace" rspace="0em">−</mo><mn>1</mn></mrow></msup><mo>:</mo><mi>ℝ</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">\frac{\Gamma \vdash \mathbb{R} \; \mathrm{type}}{\Gamma, x:\mathbb{R}, p:\vert x \vert \gt 0 \vdash {(-)}^{-1}:\mathbb{R}}</annotation></semantics></math></div><div class="maruku-equation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block" class="maruku-mathml"><semantics><mrow><mfrac><mrow><mi>Γ</mi><mo>⊢</mo><mi>ℝ</mi><mspace width="thickmathspace"></mspace><mi mathvariant="normal">type</mi></mrow><mrow><mi>Γ</mi><mo>,</mo><mi>x</mi><mo>:</mo><mi>ℝ</mi><mo>,</mo><mi>p</mi><mo>:</mo><mo stretchy="false">|</mo><mi>x</mi><mo stretchy="false">|</mo><mo>&gt;</mo><mn>0</mn><mo>⊢</mo><mi mathvariant="normal">recipax</mi><mo>:</mo><mi>x</mi><mo>⋅</mo><msup><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>p</mi><mo stretchy="false">)</mo></mrow> <mrow><mo lspace="verythinmathspace" rspace="0em">−</mo><mn>1</mn></mrow></msup><msub><mo>=</mo> <mi>ℝ</mi></msub><mn>1</mn></mrow></mfrac></mrow><annotation encoding="application/x-tex">\frac{\Gamma \vdash \mathbb{R} \; \mathrm{type}}{\Gamma, x:\mathbb{R}, p:\vert x \vert \gt 0 \vdash \mathrm{recipax}:x \cdot {(x, p)}^{-1} =_\mathbb{R} 1}</annotation></semantics></math></div>
<p>The reciprocal function is given by the partial anafunction <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>x</mi><mo>⋅</mo><mi>y</mi><msub><mo>=</mo> <mi>ℝ</mi></msub><mn>1</mn></mrow><annotation encoding="application/x-tex">x \cdot y =_\mathbb{R} 1</annotation></semantics></math>.</p>

<p>Another example is the <a class="existingWikiWord" href="/nlab/show/metric+square+root">metric square root</a> on the <a class="existingWikiWord" href="/nlab/show/real+numbers">real numbers</a>, which is only defined on the non-negative real numbers, and is given by the following rules:</p>
<div class="maruku-equation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block" class="maruku-mathml"><semantics><mrow><mfrac><mrow><mi>Γ</mi><mo>⊢</mo><mi>ℝ</mi><mspace width="thickmathspace"></mspace><mi mathvariant="normal">type</mi></mrow><mrow><mi>Γ</mi><mo>,</mo><mi>x</mi><mo>:</mo><mi>ℝ</mi><mo>,</mo><mi>p</mi><mo>:</mo><mi>x</mi><mo>≥</mo><mn>0</mn><mo>⊢</mo><msqrt><mo lspace="verythinmathspace" rspace="0em">−</mo></msqrt><mo>:</mo><mi>ℝ</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">\frac{\Gamma \vdash \mathbb{R} \; \mathrm{type}}{\Gamma, x:\mathbb{R}, p:x \geq 0 \vdash \sqrt{-}:\mathbb{R}}</annotation></semantics></math></div><div class="maruku-equation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block" class="maruku-mathml"><semantics><mrow><mfrac><mrow><mi>Γ</mi><mo>⊢</mo><mi>ℝ</mi><mspace width="thickmathspace"></mspace><mi mathvariant="normal">type</mi></mrow><mrow><mi>Γ</mi><mo>,</mo><mi>x</mi><mo>:</mo><mi>ℝ</mi><mo>,</mo><mi>p</mi><mo>:</mo><mi>x</mi><mo>≥</mo><mn>0</mn><mo>⊢</mo><mi mathvariant="normal">sqrtax</mi><mo>:</mo><msup><msqrt><mrow><mi>x</mi><mo>,</mo><mi>p</mi></mrow></msqrt> <mn>2</mn></msup><msub><mo>=</mo> <mi>ℝ</mi></msub><mi>x</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">\frac{\Gamma \vdash \mathbb{R} \; \mathrm{type}}{\Gamma, x:\mathbb{R}, p:x \geq 0 \vdash \mathrm{sqrtax}:\sqrt{x, p}^2 =_\mathbb{R} x}</annotation></semantics></math></div>
<p>In both cases, the witness <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math> is usually left implicit in informal notation, and the partial function is written as <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><msup><mi>x</mi> <mrow><mo lspace="verythinmathspace" rspace="0em">−</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">{x}^{-1}</annotation></semantics></math> or <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><msqrt><mi>x</mi></msqrt></mrow><annotation encoding="application/x-tex">\sqrt{x}</annotation></semantics></math>.</p>

<h3 id="in_category_theory">In category theory</h3>

<h4 id="DefinitionInSets">In the category of sets</h4>

<p>Given <a class="existingWikiWord" href="/nlab/show/set">set</a>s <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math> and <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math>, a <strong>partial function</strong> <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>f</mi></mrow><annotation encoding="application/x-tex">f</annotation></semantics></math> from <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math> to <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math> consists a <a class="existingWikiWord" href="/nlab/show/subset">subset</a> <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>D</mi></mrow><annotation encoding="application/x-tex">D</annotation></semantics></math> of <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math> and a (total) function from <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>D</mi></mrow><annotation encoding="application/x-tex">D</annotation></semantics></math> to <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math>. In more detail, this is a <a class="existingWikiWord" href="/nlab/show/span">span</a></p>
<div class="maruku-equation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block" class="maruku-mathml"><semantics><mrow><mrow><mtable><mtr><mtd></mtd> <mtd></mtd> <mtd><mi>D</mi></mtd></mtr> <mtr><mtd></mtd> <mtd><msub><mo>↙</mo> <mi>ι</mi></msub></mtd> <mtd></mtd> <mtd><msup><mo>↘</mo> <mi>f</mi></msup></mtd></mtr> <mtr><mtd><mi>A</mi></mtd> <mtd></mtd> <mtd></mtd> <mtd></mtd> <mtd><mi>B</mi></mtd></mtr> <mtr><mtd></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex"> \array {
  &amp;                &amp; D \\
  &amp; \swarrow_\iota &amp;   &amp; \searrow^f \\
A &amp;                &amp;   &amp;            &amp; B \\
} 
</annotation></semantics></math></div>
<p>of total functions, where <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>ι</mi><mo>:</mo><mi>D</mi><mo>→</mo><mi>A</mi></mrow><annotation encoding="application/x-tex">\iota: D \to A</annotation></semantics></math> is an <a class="existingWikiWord" href="/nlab/show/injection">injection</a>. (This condition can be dropped to define a partial <a class="existingWikiWord" href="/nlab/show/multi-valued+function">multi-valued function</a>, which is simply a span.)</p>

<p><math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math> and <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math> are called the <em><a class="existingWikiWord" href="/nlab/show/source">source</a></em> and <em><a class="existingWikiWord" href="/nlab/show/target">target</a></em> of <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>f</mi></mrow><annotation encoding="application/x-tex">f</annotation></semantics></math> as usual; then <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>D</mi></mrow><annotation encoding="application/x-tex">D</annotation></semantics></math> is the <strong>domain</strong> of <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>f</mi></mrow><annotation encoding="application/x-tex">f</annotation></semantics></math> and <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>ι</mi><mo>:</mo><mi>D</mi><mo>→</mo><mi>A</mi></mrow><annotation encoding="application/x-tex">\iota: D \to A </annotation></semantics></math> is the <strong>inclusion</strong> of the domain into the source. By abuse of notation, the partial function <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>f</mi></mrow><annotation encoding="application/x-tex">f</annotation></semantics></math> is conflated with the (total) function <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>f</mi><mo>:</mo><mi>D</mi><mo>→</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">f: D \to B</annotation></semantics></math>.</p>

<p>Notice that the induced function <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>D</mi><mo>→</mo><mi>A</mi><mo>×</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">D \to A \times B</annotation></semantics></math> is an <a class="existingWikiWord" href="/nlab/show/injection">injection</a>, so a partial function is the same as a <a class="existingWikiWord" href="/nlab/show/functional+relation">functional relation</a> seen from a different point of view.</p>

<p>We consider two partial functions (with the same given source and target) to be <strong>equal</strong> if there is a <a class="existingWikiWord" href="/nlab/show/bijection">bijection</a> between their domains that makes the obvious diagrams commute. You can get this automatically in a traditional set theory by requiring <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>D</mi></mrow><annotation encoding="application/x-tex">D</annotation></semantics></math> to be literally a <a class="existingWikiWord" href="/nlab/show/subset">subset</a> of <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math> (with <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>ι</mi></mrow><annotation encoding="application/x-tex">\iota</annotation></semantics></math> the inclusion map).</p>

<h4 id="DefinitionGeneralAbstract">General abstract</h4>

<h5 id="in_terms_of_spans">In terms of spans</h5>

<p>If <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math> is a <a class="existingWikiWord" href="/nlab/show/category">category</a> with <a class="existingWikiWord" href="/nlab/show/pullbacks">pullbacks</a>, then a <strong>partial map</strong> from <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math> to <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math> may be defined to be a <a class="existingWikiWord" href="/nlab/show/span">span</a></p>
<div class="maruku-equation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block" class="maruku-mathml"><semantics><mrow><mrow><mtable><mtr><mtd></mtd> <mtd></mtd> <mtd><mi>D</mi></mtd> <mtd></mtd> <mtd></mtd></mtr> <mtr><mtd></mtd> <mtd><msup><mo></mo><mpadded width="0" lspace="-100%width"><mi>i</mi></mpadded></msup><mo>↙</mo></mtd> <mtd></mtd> <mtd><msup><mo>↘</mo> <mpadded width="0"><mi>f</mi></mpadded></msup></mtd> <mtd></mtd></mtr> <mtr><mtd><mi>A</mi></mtd> <mtd></mtd> <mtd></mtd> <mtd></mtd> <mtd><mi>B</mi></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">\array{
 &amp; &amp; D &amp; &amp; \\
 &amp; ^\mathllap{i} \swarrow &amp; &amp; \searrow^\mathrlap{f} &amp; \\
A &amp; &amp; &amp; &amp; B
}
</annotation></semantics></math></div>
<p>where <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math> is <a class="existingWikiWord" href="/nlab/show/monomorphism">monic</a>. Such spans are closed under span composition, and as a <a class="existingWikiWord" href="/nlab/show/locally+full+sub-2-category">locally full sub-2-category</a> of <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>Span</mi><mo stretchy="false">(</mo><mi>C</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Span(C)</annotation></semantics></math>, the bicategory of partial maps in <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math> is locally preordered. In more down-to-earth terms, if <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mo stretchy="false">(</mo><mi>i</mi><mo>,</mo><mi>f</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(i, f)</annotation></semantics></math> and <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mo stretchy="false">(</mo><mi>i</mi><mo>′</mo><mo>,</mo><mi>f</mi><mo>′</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(i', f')</annotation></semantics></math> are partial maps from <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math> to <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math>, we have <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mo stretchy="false">(</mo><mi>i</mi><mo>,</mo><mi>f</mi><mo stretchy="false">)</mo><mo>≤</mo><mo stretchy="false">(</mo><mi>i</mi><mo>′</mo><mo>,</mo><mi>f</mi><mo>′</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(i, f) \leq (i', f')</annotation></semantics></math> if there exists (necessarily monic) <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>j</mi></mrow><annotation encoding="application/x-tex">j</annotation></semantics></math> such that <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>i</mi><mo>=</mo><mi>i</mi><mo>′</mo><mo>∘</mo><mi>j</mi></mrow><annotation encoding="application/x-tex">i = i' \circ j</annotation></semantics></math> and <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>f</mi><mo>=</mo><mi>f</mi><mo>′</mo><mo>∘</mo><mi>j</mi></mrow><annotation encoding="application/x-tex">f = f' \circ j</annotation></semantics></math>.</p>

<p>Abstract bicategories of partial maps, parallel to <a class="existingWikiWord" href="/nlab/show/bicategory+of+relations">bicategories of relations</a>, were introduced by (<a href="#Carb87">Carboni 87</a>).</p>

<h5 id="in_terms_of_the_maybe_monad">In terms of the maybe monad</h5>

<p>Notice that a partial function <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>f</mi></mrow><annotation encoding="application/x-tex">f</annotation></semantics></math> from <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math> to <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math> as <a href="#DefinitionInSets">above</a> is (in <a class="existingWikiWord" href="/nlab/show/classical+mathematics">classical mathematics</a>) equivalently a genuine function from <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math> to the <a class="existingWikiWord" href="/nlab/show/disjoint+union">disjoint union</a> (<a class="existingWikiWord" href="/nlab/show/coproduct">coproduct</a>) of <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math> with the point (the singleton)</p>
<div class="maruku-equation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block" class="maruku-mathml"><semantics><mrow><mi>ϕ</mi><mspace width="thickmathspace"></mspace><mo lspace="verythinmathspace">:</mo><mspace width="thickmathspace"></mspace><mi>A</mi><mo>⟶</mo><mi>B</mi><mo lspace="thinmathspace" rspace="thinmathspace">∐</mo><mo>*</mo><mspace width="thinmathspace"></mspace><mo>.</mo></mrow><annotation encoding="application/x-tex">
  \phi \;\colon\; A \longrightarrow B \coprod \ast
  \,.

</annotation></semantics></math></div>
<p>The <a class="existingWikiWord" href="/nlab/show/subset">subset</a> <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>D</mi><mo>↪</mo><mi>A</mi></mrow><annotation encoding="application/x-tex">D \hookrightarrow A</annotation></semantics></math> in the <a href="#DefinitionInSets">above</a> is the <a class="existingWikiWord" href="/nlab/show/preimage">preimage</a> <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><msup><mi>ϕ</mi> <mo>*</mo></msup><mo stretchy="false">(</mo><mi>B</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\phi^*(B)</annotation></semantics></math>; for <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math> in this preimage, <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mi>ϕ</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(x) = \phi(x)</annotation></semantics></math>. Conversely, an element <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>x</mi><mo>∈</mo><mi>A</mi></mrow><annotation encoding="application/x-tex">x \in A</annotation></semantics></math> is sent to <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mo>*</mo></mrow><annotation encoding="application/x-tex">\ast</annotation></semantics></math> by <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>ϕ</mi></mrow><annotation encoding="application/x-tex">\phi</annotation></semantics></math> if and only if <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>f</mi></mrow><annotation encoding="application/x-tex">f</annotation></semantics></math> is undefined at <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math>.</p>

<p>This in turn is equivalently a morphism in the <a class="existingWikiWord" href="/nlab/show/Kleisli+category">Kleisli category</a> of the <a class="existingWikiWord" href="/nlab/show/maybe+monad">maybe monad</a>. Phrased this way, the concept of partial function makes sense in any <a class="existingWikiWord" href="/nlab/show/category">category</a> with <a class="existingWikiWord" href="/nlab/show/coproducts">coproducts</a> and with a <a class="existingWikiWord" href="/nlab/show/terminal+object">terminal object</a>. It comes out as intended when the category is an <a class="existingWikiWord" href="/nlab/show/extensive+category">extensive category</a> (partial functions with complemented domain).</p>

<h2 id="examples_2">Examples</h2>

<p>In secondary-school mathematics, one often makes functions partial by fiat, just to see if students can calculate the domains of composite functions and the like. This is not (only) busywork, as in applications one often has a function given by a formula that is really valid only on a certain domain. However, in more sophisticated analyses (such as those that Lawvere and his followers propose for physics and synthetic geometry), these domains and the total functions on them become the primary objects of study, with the partial functions being secondary (as <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>ι</mi></mrow><annotation encoding="application/x-tex">\iota</annotation></semantics></math> is seen as merely a way to place <em>coordinates</em> on <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>D</mi></mrow><annotation encoding="application/x-tex">D</annotation></semantics></math>).</p>

<p>In analysis, one often considers partial functions whose domains are required to be intervals in the real line, regions of the complex plane, or dense subsets of a <a class="existingWikiWord" href="/nlab/show/Banach+space">Banach space</a>.</p>

<p>In a <a class="existingWikiWord" href="/nlab/show/field">field</a>, the multiplicative <a class="existingWikiWord" href="/nlab/show/inverse">inverse</a> is a partial function whose domain is the set of non-zero elements of the field.</p>

<h2 id="the_category_of_sets_and_partial_functions">The category of sets and partial functions</h2>

<p>The <a class="existingWikiWord" href="/nlab/show/category">category</a> <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><msub><mi>Set</mi> <mi>part</mi></msub></mrow><annotation encoding="application/x-tex">Set_part</annotation></semantics></math> of sets and partial functions between them is important for understanding computation. However, one often replaces this with an <a class="existingWikiWord" href="/nlab/show/equivalence+of+categories">equivalent</a> category of sets and total functions.</p>

<p>Specifically, replace each set <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math> with the set <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><msub><mi>S</mi> <mo>⊥</mo></msub></mrow><annotation encoding="application/x-tex">S_\bot</annotation></semantics></math> of all <a class="existingWikiWord" href="/nlab/show/subset">subset</a>s of <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math> with at most one element, otherwise known as the <a class="existingWikiWord" href="/nlab/show/partial+map+classifier">partial map classifier</a> of <a class="existingWikiWord" href="/nlab/show/Set">Set</a>. In this context, we identify an element <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math> of <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math> with the subset <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mo stretchy="false">{</mo><mi>x</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\{x\}</annotation></semantics></math> and write the <a class="existingWikiWord" href="/nlab/show/empty+set">empty</a> subset as <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mo>⊥</mo></mrow><annotation encoding="application/x-tex">\bot</annotation></semantics></math>. Then a partial function <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>S</mi><mo>→</mo><mi>T</mi></mrow><annotation encoding="application/x-tex">S \to T</annotation></semantics></math> becomes a total function <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><msub><mi>S</mi> <mo>⊥</mo></msub><mo>→</mo><msub><mi>T</mi> <mo>⊥</mo></msub></mrow><annotation encoding="application/x-tex">S_\bot \to T_\bot</annotation></semantics></math> such that <a class="existingWikiWord" href="/nlab/show/inhabited+set">inhabited</a> subsets of <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math> are assigned only to inhabited subsets of <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math>. Then <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><msub><mi>Set</mi> <mi>part</mi></msub></mrow><annotation encoding="application/x-tex">Set_part</annotation></semantics></math> is equivalent to the category <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><msub><mi>Set</mi> <mo>⊥</mo></msub></mrow><annotation encoding="application/x-tex">Set_\bot</annotation></semantics></math> of such sets and functions.</p>

<p>In <a class="existingWikiWord" href="/nlab/show/classical+mathematics">classical mathematics</a> <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><msub><mi>S</mi> <mo>⊥</mo></msub><mo>≅</mo><mi>S</mi><mo>⨿</mo><mo stretchy="false">{</mo><mo>⊥</mo><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">S_\bot \cong S \amalg \{\bot\}</annotation></semantics></math>, although this is not true <a class="existingWikiWord" href="/nlab/show/constructive+mathematics">constructively</a>. In this case, <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>S</mi><mo>↦</mo><mi>S</mi><mo>⨿</mo><mo stretchy="false">{</mo><mo>⊥</mo><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">S\mapsto S \amalg \{\bot\}</annotation></semantics></math> is the <a class="existingWikiWord" href="/nlab/show/maybe+monad">maybe monad</a> and <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><msub><mi>Set</mi> <mo>⊥</mo></msub></mrow><annotation encoding="application/x-tex">Set_\bot</annotation></semantics></math> is its <a class="existingWikiWord" href="/nlab/show/Kleisli+category">Kleisli category</a>. Moreover, since every algebra for this monad is <span class="newWikiWord">free<a href="/nlab/new/free+algebra">?</a></span> this category is also equivalent to its <a class="existingWikiWord" href="/nlab/show/Eilenberg-Moore+category">Eilenberg-Moore category</a>, which is the category <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><msub><mi>Set</mi> <mo>*</mo></msub></mrow><annotation encoding="application/x-tex">Set_*</annotation></semantics></math> of <a class="existingWikiWord" href="/nlab/show/pointed+set">pointed set</a>s and total point-preserving functions. Traditionally, one uses the notation of <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><msub><mi>Set</mi> <mo>⊥</mo></msub></mrow><annotation encoding="application/x-tex">Set_\bot</annotation></semantics></math> but (unless one is a constructivist) thinks of this as simply different notation for <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><msub><mi>Set</mi> <mo>*</mo></msub></mrow><annotation encoding="application/x-tex">Set_*</annotation></semantics></math>. It is still true constructively that <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mi>S</mi><mo>↦</mo><msub><mi>S</mi> <mo>⊥</mo></msub></mrow><annotation encoding="application/x-tex">S\mapsto S_\bot</annotation></semantics></math> is a monad (the <a class="existingWikiWord" href="/nlab/show/partial+map+classifier">partial map classifier</a>) and <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><msub><mi>Set</mi> <mo>⊥</mo></msub></mrow><annotation encoding="application/x-tex">Set_\bot</annotation></semantics></math> is its Kleisli category, but it is (probably) no longer true that every algebra is free.</p>

<p>For a more sophisticated analysis of computation, <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><msub><mi>Set</mi> <mo>⊥</mo></msub></mrow><annotation encoding="application/x-tex">Set_\bot</annotation></semantics></math> can be replaced with a suitable category of domains, such as <a class="existingWikiWord" href="/nlab/show/direction">directed</a> <a class="existingWikiWord" href="/nlab/show/complete+lattice">complete</a> <a class="existingWikiWord" href="/nlab/show/partial+order">partially ordered</a> sets (DCPOs). The requirement that <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mo>⊥</mo></mrow><annotation encoding="application/x-tex">\bot</annotation></semantics></math> be preserved can then be removed to model lazy computation, but now we are hardly talking about partial functions anymore.</p>

<h2 id="algebras_of_partial_functions">Algebras of partial functions</h2>

<p>The functions of high-school mathematics, consisting of real (or complex)-valued functions of one (or two or three) real (or complex) variables, are by default partial functions. As they take values in a <a class="existingWikiWord" href="/nlab/show/field">field</a>, one may consider adding or multiplying them. The usual rule is that <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="maruku-mathml"><semantics><mrow><mo lspace="0em" rspace="thinmathspace">dom</mo><mo stretchy="false">(</mo><mi>f</mi><mo>+</mo><mi>g</mi><mo stretchy="false">)</mo><mo>=</mo><mo lspace="0em" rspace="thinmathspace">dom</mo><mi>f</mi><mo>∩</mo><mo lspace="0em" rspace="thinmathspace">dom</mo><mi>g</mi></mrow><annotation encoding="application/x-tex">\dom(f + g) = \dom f \cap \dom g</annotation></semantics></math>, etc, but this leads to an unusual algebra: a commutative <a class="existingWikiWord" href="/nlab/show/semiring">semiring</a> in which addition has an identity element (the always-defined constant <a class="existingWikiWord" href="/nlab/show/zero+function">zero function</a>) and multiplication has an absorbing element (the never-defined <a class="existingWikiWord" href="/nlab/show/empty+function">empty function</a>), but it fails to be a <a class="existingWikiWord" href="/nlab/show/rig">rig</a> because these two elements are not the same. It has many other interesting properties, such as simultaneous additive and multiplicative <a class="existingWikiWord" href="/nlab/show/idempotent+element">idempotents</a> (the zero functions with arbitrary domains).</p>

<p>An axiomatic treatment of such semirings may be found at the end of <a href="#Richman2010">Richman 2010</a>, as well as in the article <a class="existingWikiWord" href="/nlab/show/category+of+partial+endofunctions">category of partial endofunctions</a>.</p>

<h2 id="related_concepts">Related concepts</h2>

<ul>
<li><a class="existingWikiWord" href="/nlab/show/total+function">total function</a></li>

<li><a class="existingWikiWord" href="/nlab/show/restriction+category">restriction category</a></li>

<li><a class="existingWikiWord" href="/nlab/show/category+of+partial+endofunctions">category of partial endofunctions</a></li>

<li><a class="existingWikiWord" href="/nlab/show/partial+function+type">partial function type</a></li>

<li><a class="existingWikiWord" href="/nlab/show/multivalued+partial+function">multivalued partial function</a></li>
</ul>

<h2 id="References">References</h2>

<ul>
<li id="Carb87">
<p><a class="existingWikiWord" href="/nlab/show/Aurelio+Carboni">Aurelio Carboni</a>, Bicategories of partial maps, Cahiers de Topologie et Géométrie Différentielle Catégoriques, 28 no. 2 (1987), p. 111-126 (<a href="http://www.numdam.org/item?id=CTGDC_1987__28_2_111_0">web</a>)</p>
</li>

<li>
<p><a class="existingWikiWord" href="/nlab/show/Robin+Cockett">Robin Cockett</a>, <a class="existingWikiWord" href="/nlab/show/Steve+Lack">Steve Lack</a>, <em>Restriction categories I: categories of partial maps</em> (<a href="http://pages.cpsc.ucalgary.ca/~robin/FMCS/FMCS_06/RestrictionsI.pdf">pdf</a>)</p>
</li>

<li>
<p><a class="existingWikiWord" href="/nlab/show/Robin+Cockett">Robin Cockett</a>, <a class="existingWikiWord" href="/nlab/show/Steve+Lack">Steve Lack</a>, <em>Restriction categories II: partial map classification</em> (<a href="http://maths.mq.edu.au/~slack/papers/restii.html">web</a>)</p>
</li>

<li>
<p><a class="existingWikiWord" href="/nlab/show/Robin+Cockett">Robin Cockett</a>, <a class="existingWikiWord" href="/nlab/show/Steve+Lack">Steve Lack</a>, <em>Restriction categories III: colimits, partial limits, and extensivity</em> (<a href="http://arxiv.org/abs/math/0610500">arXiv:math/0610500</a>)</p>
</li>

<li id="Richman2010">
<p><a class="existingWikiWord" href="/nlab/show/Fred+Richman">Fred Richman</a> (2010). <em>Algebraic functions, calculus style</em>. <a href="http://math.fau.edu/richman/html/docs.htm">Fred Richman’s documents</a>.</p>
</li>
</ul>
</body></html>

</div>

<div class="revisedby">
    <p>
    Last revised on January  6, 2023 at 01:46:50.
    See the <a href="/nlab/history/partial+function" style="color: #005c19">history</a> of this page for a list of all contributions to it.
    </p>
</div>

<div class="navigation navfoot">

  <a href="/nlab/edit/partial+function" accesskey="E" class="navlink" id="edit" rel="nofollow">Edit</a><a href="https://nforum.ncatlab.org/discussion/5678/#Item_32">Discuss</a><span class="backintime"><a href="/nlab/revision/partial+function/29" accesskey="B" class="navlinkbackintime" id="to_previous_revision" rel="nofollow">Previous revision</a></span><a href="/nlab/show/diff/partial+function" accesskey="C" class="navlink" id="see_changes" rel="nofollow">Changes from previous revision</a><a href="/nlab/history/partial+function" accesskey="S" class="navlink" id="history" rel="nofollow">History (29 revisions)</a>
  <a href="/nlab/show/partial+function/cite" style="color: black">Cite</a>
  <a href="/nlab/print/partial+function" accesskey="p" id="view_print" rel="nofollow">Print</a>
    <a href="/nlab/source/partial+function" id="view_source" rel="nofollow">Source</a>

  


</div>


</div> <!-- Content -->

</div> <!-- Container -->

</body>
</html>
