Principal bundles, groupoids and connections